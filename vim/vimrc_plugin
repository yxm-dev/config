" NETRW
"> Layout
">> hide banner
    let g:netrw_banner = 0
">> allow toggle hide
    let g:netrw_hide= 1
">> hide dot files by default
    let g:netrw_list_hide = '\(^\|\s\s\)\zs\.\S\+'
">> windows size
    let g:netrw_winsize = 15
">> open files in new window
    if argv(0) ==# '.'
        let g:netrw_browse_split = 0
    else
        let g:netrw_browse_split = 4
    endif
">> sync current and browsing directories
    let g:netrw_keepdir = 0
">> directories on the top, files below
    let g:netrw_sort_sequence = '[\/]$,*'
">> change of directory when opening a file
    set autochdir
">> set the default application to be called with "x"
    let g:netrw_browsex_viewer= "zathura"
">> keep cursor position
    let g:netrw_fastbrowse = 2
">> change the highlight of markded files
    hi! link netrwMarkFile Search
">> print in /tmp/vim_cwd the current working directory when Netrw is closed
    autocmd BufDelete * if &ft ==# 'netrw' | let g:cwd = expand('%:p:h') | call writefile([g:cwd], '/tmp/vim_cwd') | endif
"> Hotkeys
">> '\.'  to switch focus between Netrw and file windows. '\\.' to toggle the Netrw window
    nnoremap \. :winc h<cr>cd
    inoremap \. <esc>:winc h<cr>cd
    nnoremap \\. :Lexplore<cr>cd
    inoremap \\. <esc>:Lexplore<cr>cd
    nnoremap [29~ :Lexplore<cr>cd
    inoremap [29~ <esc>:Lexplore<cr>cd
    augroup netrw_setup | au!
        au FileType netrw nmap <buffer> \. :winc l<cr>:startinsert<cr>
        au FileType netrw nmap <buffer> \\. :Lexplore<cr>:startinsert<cr>
        au FileType netre  nmap [29~ :Lexplore<cr>:startinsert<cr>
">> 'p' to display the current directory. 'h' to toggle hidden files
        au FileType netrw nmap <buffer> p :pwd<cr>
        au FileType netrw nmap <buffer> h gh
">> 'a' to mark files. 'w', and  'e' to execute command for marked files.
        au FileType netrw nmap <buffer> a mf
        au FileType netrw nmap <buffer> w mx
        au FileType netrw nmap <buffer> e mX
">> 'left' and 'right'/'enter' to change directory.
        au FileType netrw nmap <buffer> <right> <cr>cd
        au FileType netrw nmap <buffer> <left> -cd
">> '\\[' or 'o' to open file with its default application
        au FileType netrw nmap <buffer> \\[ x
        au FileType netrw nmap <buffer> o x 
">> 'r' to refresh Netrw
        au FileType netrw nmap <buffer> r <c-l>
">> 'mkf', 'd', 'D' , 'mv' and 'cp' to do the basic stuff
        au FileType netrw nmap <buffer> mkf cd:AsyncRun touch 
        au FileType netrw nmap <buffer> mkd cd:AsyncRun mkdir 
        au FileType netrw nmap <buffer> d cd:AsyncRun d 
        au FileType netrw nmap <buffer> D cd:AsyncRun Dy 
        au FileType netrw nmap <buffer> mv cd:AsyncRun mv 
        au FileType netrw nmap <buffer> cp cd:AsyncRun cp -r 
">> 'z' to open with zathura. 'pdf' ...
        au FileType netrw nmap <buffer> z cd:AsyncRun zathura  
        au FileType netrw nmap <buffer> tex cd:AsyncRun pdflatex 
        au FileType netrw nmap <buffer> cvt cd:AsyncRun cvt -md
        au FileType netrw nmap <buffer> beamer cd:AsyncRun cvt -md -beamer
        au FileType netrw nmap <buffer> w3m cd:AsyncRun w3m
    augroup END

" VIMTEX
">> choosing the pdf reader and the compiler configuration. avoiding the log box.
    let g:tex_flavor = 'latex'          
    let g:vimtex_view_method = 'zathura'  
    let g:vimtex_compiler_latexmk= {'options' : [ 
        \'-pdf', 
        \'-shell-escape',
        \'-verbose', 
        \'-file-line-error', 
        \'-synctex=1', 
        \'-interaction=nonstopmode',
        \],}
">> 'F5' to compile and open the resulting .pdf
    autocmd filetype tex nnoremap <buffer> <f5> :VimtexCompile<cr>:startinsert<cr>
    autocmd filetype tex inoremap <buffer> <f5> <esc> :VimtexCompile<cr>:startinsert<cr>
">> 'F6' to open the compile .pdf
    autocmd filetype tex nnoremap <buffer> <f6> :VimtexView<cr>:startinsert<cr>
    autocmd filetype tex inoremap <buffer> <f6> <esc>:VimtexView<cr>:startinsert<cr>
">> 'ctrl+ee' to select inside of an environment. 'ctrl+ea' to select the whole environment.
    autocmd filetype tex imap <c-e><c-e> <esc>vie
    autocmd filetype tex imap <c-e><c-a> <esc>vae
    autocmd filetype tex nmap <c-e><c-e> vie
    autocmd filetype tex nmap <c-e><c-a> vae

" COMMENTARY
">> comment current line and paragraph with '\\l' and '\\p'
    imap \\l <esc>gcc:startinsert<cr>
    imap \\p <esc>gcap:startinsert<cr>
    nmap \\l gcc:startinsert<cr>
    nmap \\p gcap:startinsert<cr>

" INDENTLINE
">> disabling in markdown and vimwiki
    let g:indentLine_fileTypeExclude = ['vimwiki', 'markdown', 'md']
    let g:indentLine_bufTypeExclude = ['help', 'terminal', 'vimwiki']
">> avoid conflict with links conceal
    let g:indentLine_concealcursor=""
    let g:indentLine_conceallevel=2
">> '\\i' to toggle indentline
    inoremap \\i <esc>:IndentLinesToggle<cr>:startinsert<cr>
    nnoremap \\i :IndentLinesToggle<cr>:startinsert<cr>

" LSP
">> avoid printing error messages anytime
    let g:lsp_diagnostics_enabled = 0
    set completeopt-=preview

" ALE
">> disable ALE LSP completion
    let g:ale_virtualtext_cursor = 0
    let g:ale_completion_enabled = 0
    let g:ale_completion_tsserver_autoimport = 0
    set signcolumn=number
">> configuring fixers
    let g:ale_fixers = {
    \   '*': ['remove_trailing_lines', 'trim_whitespace'],
    \   'md': ['prettier'],
    \   'sh': ['shfmt'],
    \}
">> configuring linters
    let g:ale_linters = {
    \   'go' : ['vim-lsp'],
    \   'sh' : ['vim-lsp'],
    \'javascript': ['eslint'],
    \'typescript': ['eslint', 'tsserver', 'prettier'],
    \}

" ULTISNIPETS
">> set the key to expand the snippets
    let g:UltiSnipsExpandTrigger="<s-tab>"
">> set the key to change the focus inside the snippet
    let g:UltiSnipsJumpForwardTrigger="<tab>"

" ASYNCOMPLETE
">> set the key to move to the next item in the list
    inoremap <expr> <Tab> pumvisible() ? "\<C-n>" : "\<Tab>"
">> set the ket to close select the item and close the popup
    inoremap <expr> <cr> pumvisible() ? asyncomplete#close_popup() : "\<cr>"

" SYNTAX RANGE
">> \hltex to highlight .tex in  md files
    autocmd BufWinEnter,FileType markdown call SyntaxRange#Include('\\hltex', '\\hltex', 'tex', 'NonText')
    autocmd BufWinEnter,FileType markdown call SyntaxRange#Include('```bash', '```', 'bash', 'NonText')
    autocmd BufWinEnter,FileType markdown call SyntaxRange#Include('```c', '```', 'c', 'NonText')
    autocmd BufWinEnter,FileType markdown call SyntaxRange#Include('```cpp', '```', 'cpp', 'NonText')
    autocmd BufWinEnter,FileType markdown call SyntaxRange#Include('```c++', '```', 'cpp', 'NonText')
    autocmd BufWinEnter,FileType markdown call SyntaxRange#Include('```c#', '```', 'cs', 'NonText')
    autocmd BufWinEnter,FileType markdown call SyntaxRange#Include('```css', '```', 'css', 'NonText')
    autocmd BufWinEnter,FileType markdown call SyntaxRange#Include('```html', '```', 'html', 'NonText')
    autocmd BufWinEnter,FileType markdown call SyntaxRange#Include('```go', '```', 'go', 'NonText')
    autocmd BufWinEnter,FileType markdown call SyntaxRange#Include('```java', '```', 'java', 'NonText')
    autocmd BufWinEnter,FileType markdown call SyntaxRange#Include('```javascript', '```', 'javascript', 'NonText')
    autocmd BufWinEnter,FileType markdown call SyntaxRange#Include('```js', '```', 'javascript', 'NonText')
    autocmd BufWinEnter,FileType markdown call SyntaxRange#Include('```python', '```', 'python', 'NonText')
    autocmd BufWinEnter,FileType markdown call SyntaxRange#Include('```ruby', '```', 'ruby', 'NonText')
    autocmd BufWinEnter,FileType markdown call SyntaxRange#Include('```typescript', '```', 'typescript', 'NonText')
    autocmd BufWinEnter,FileType markdown call SyntaxRange#Include('```ts', '```', 'typescript', 'NonText') 
